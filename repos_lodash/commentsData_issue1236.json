[
  {
    "url": "https://api.github.com/repos/lodash/lodash/issues/comments/105880319",
    "html_url": "https://github.com/lodash/lodash/issues/1236#issuecomment-105880319",
    "issue_url": "https://api.github.com/repos/lodash/lodash/issues/1236",
    "id": 105880319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTg4MDMxOQ==",
    "user": {
      "login": "jlgrall",
      "id": 1263537,
      "node_id": "MDQ6VXNlcjEyNjM1Mzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1263537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jlgrall",
      "html_url": "https://github.com/jlgrall",
      "followers_url": "https://api.github.com/users/jlgrall/followers",
      "following_url": "https://api.github.com/users/jlgrall/following{/other_user}",
      "gists_url": "https://api.github.com/users/jlgrall/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jlgrall/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jlgrall/subscriptions",
      "organizations_url": "https://api.github.com/users/jlgrall/orgs",
      "repos_url": "https://api.github.com/users/jlgrall/repos",
      "events_url": "https://api.github.com/users/jlgrall/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jlgrall/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-27T11:42:22Z",
    "updated_at": "2015-05-27T11:42:22Z",
    "author_association": "NONE",
    "body": "Here is another take on the sub where I take advantage of the fact that many functions in lodash accept an iteratee as second argument.\n\nHere is the new definition (I only changed the beginning of `sub()`):\n\n``` javascript\nvar concat = Array.prototype.concat.call.bind(Array.prototype.concat),\n    slice = Array.prototype.slice;\n_.mixin(_.prototype, {\n    sub: function(callback) {\n        var chain = this,\n            args = concat([callback, _, _], slice.call(arguments, 1)),\n            _callback = _.partial.apply(_, args),\n            params = {chain: chain, callback: _callback},\n            subChain = _.chain(params);     // Keep the params there for now\n        return subChain;\n    },\n    endSub: function() {\n        var subChain = this,\n            params = subChain.__wrapped__,  // Get the params back\n            chain = params.chain,\n            callback = params.callback,\n            sub = function(value) {\n                return subChain.plant(value).value();\n            };\n        return chain.thru(function(value) {\n            return callback(value, sub);\n        });\n    }\n});\n```\n\nI got rid of the `thisArg` as second argument to `.sub()`. I am not even sure `thisArg` would be need by the user at all, because it is not processing data, it is only creating a new chain.\n\nNow our previous example showing the syntax explicitely can be made like this:\n\n``` javascript\n_.mixin({\n    getSet: function(object, iteratee, path) {\n        return _.set(object, path, iteratee(_.get(object, path)));\n    }\n});\n\n_.chain({total: [1, 2, 3],  unit: \"cm\"})\n.sub(_.getSet, \"total\")\n  .sum()\n  .endSub()\n.values()\n.value();  // => [6, \"cm\"]\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/lodash/lodash/issues/comments/105880319/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/lodash/lodash/issues/comments/105886399",
    "html_url": "https://github.com/lodash/lodash/issues/1236#issuecomment-105886399",
    "issue_url": "https://api.github.com/repos/lodash/lodash/issues/1236",
    "id": 105886399,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTg4NjM5OQ==",
    "user": {
      "login": "jlgrall",
      "id": 1263537,
      "node_id": "MDQ6VXNlcjEyNjM1Mzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1263537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jlgrall",
      "html_url": "https://github.com/jlgrall",
      "followers_url": "https://api.github.com/users/jlgrall/followers",
      "following_url": "https://api.github.com/users/jlgrall/following{/other_user}",
      "gists_url": "https://api.github.com/users/jlgrall/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jlgrall/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jlgrall/subscriptions",
      "organizations_url": "https://api.github.com/users/jlgrall/orgs",
      "repos_url": "https://api.github.com/users/jlgrall/repos",
      "events_url": "https://api.github.com/users/jlgrall/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jlgrall/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-27T12:10:52Z",
    "updated_at": "2015-05-27T12:10:52Z",
    "author_association": "NONE",
    "body": "Ok, I think I was wrong in my last comment. I think it is better to make a partial for each different `._getSet` path.\n\nMaybe a better idea would be to \"flow\" nested sub calls. Consider this:\n\n``` javascript\n_.chain([[1, 2], [3, 4], [5, 6]])\n.sub(_.map)\n  .sub(_.map)\n    .inRange(2, 5)\n    .endSub()\n  .endSub()\n.value();  // => [[false, true], [true, true], [false, false]\n```\n\nIt could be simpler if I can make it work like this:\n\n``` javascript\n_.chain([[1, 2], [3, 4], [5, 6]])\n.sub(_.map, _.map)\n  .inRange(2, 5)\n  .endSub()\n.value();  // => [[false, true], [true, true], [false, false]\n```\n\nWith a performance win if we can skip the creation of the intermediate chain.\n",
    "reactions": {
      "url": "https://api.github.com/repos/lodash/lodash/issues/comments/105886399/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/lodash/lodash/issues/comments/105926760",
    "html_url": "https://github.com/lodash/lodash/issues/1236#issuecomment-105926760",
    "issue_url": "https://api.github.com/repos/lodash/lodash/issues/1236",
    "id": 105926760,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTkyNjc2MA==",
    "user": {
      "login": "jlgrall",
      "id": 1263537,
      "node_id": "MDQ6VXNlcjEyNjM1Mzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1263537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jlgrall",
      "html_url": "https://github.com/jlgrall",
      "followers_url": "https://api.github.com/users/jlgrall/followers",
      "following_url": "https://api.github.com/users/jlgrall/following{/other_user}",
      "gists_url": "https://api.github.com/users/jlgrall/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jlgrall/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jlgrall/subscriptions",
      "organizations_url": "https://api.github.com/users/jlgrall/orgs",
      "repos_url": "https://api.github.com/users/jlgrall/repos",
      "events_url": "https://api.github.com/users/jlgrall/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jlgrall/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-27T14:13:29Z",
    "updated_at": "2015-05-27T14:17:31Z",
    "author_association": "NONE",
    "body": "Here we go, inlining nested subs in a sub declaration. Bonus: it doesn't create intermediate chain objects.\n\nThe example:\n\n``` javascript\n_.mixin({\n  getSet: function(object, iteratee, path) {\n    return _.set(object, path, iteratee(_.get(object, path)));\n  }\n});\nvar getSetTotal = _.partial(_.getSet, _, _, \"total\");\n\n_.chain({total: [1, 2, 3],  unit: \"cm\"})\n.sub(getSetTotal, _.map)\n  .thru(_.constant(10))\n  .endSub()\n.values()\n.value();  // => [[10, 10, 10], \"cm\"]\n```\n\nThe new definitions:\n\n``` javascript\nvar nestIteratee = function(nested, func) {\n  return _.partial(func, _, nested);\n};\n_.mixin(_.prototype, {\n  sub: function() {\n    var chain = this,\n      params = {chain: chain, callbacks: arguments},\n      subChain = _.chain(params);   // Keep the params there for now\n    return subChain;\n  },\n  endSub: function() {\n    var subChain = this,\n      params = subChain.__wrapped__,  // Get the params back\n      chain = params.chain,\n      callbacks = params.callbacks,\n      sub = function(value) {\n        return subChain.plant(value).value();\n      },\n      callbackChain = _.reduceRight(callbacks, nestIteratee, sub);\n    return chain.thru(function(value) {\n      return callbackChain(value);\n    });\n  }\n});\n```\n\nToo bad the chain can only contain 1 value. Otherwise I could have done something like this:\n\n``` javascript\n_.chain({total: [1, 2, 3],  unit: \"cm\"})\n.sub(_.getSetTotal, _.reduce)\n  .add()\n  .endSub()\n.values()\n.value();  // => [6, \"cm\"]\n```\n\n:-)\n",
    "reactions": {
      "url": "https://api.github.com/repos/lodash/lodash/issues/comments/105926760/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/lodash/lodash/issues/comments/105954169",
    "html_url": "https://github.com/lodash/lodash/issues/1236#issuecomment-105954169",
    "issue_url": "https://api.github.com/repos/lodash/lodash/issues/1236",
    "id": 105954169,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTk1NDE2OQ==",
    "user": {
      "login": "jdalton",
      "id": 4303,
      "node_id": "MDQ6VXNlcjQzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdalton",
      "html_url": "https://github.com/jdalton",
      "followers_url": "https://api.github.com/users/jdalton/followers",
      "following_url": "https://api.github.com/users/jdalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdalton/subscriptions",
      "organizations_url": "https://api.github.com/users/jdalton/orgs",
      "repos_url": "https://api.github.com/users/jdalton/repos",
      "events_url": "https://api.github.com/users/jdalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdalton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-27T15:20:51Z",
    "updated_at": "2015-05-27T15:20:51Z",
    "author_association": "MEMBER",
    "body": "Hi @jlgrall! I think this should cook a bit more. You should create a package that adds this functionality and hammer it out a bit more.\n",
    "reactions": {
      "url": "https://api.github.com/repos/lodash/lodash/issues/comments/105954169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/lodash/lodash/issues/comments/105974699",
    "html_url": "https://github.com/lodash/lodash/issues/1236#issuecomment-105974699",
    "issue_url": "https://api.github.com/repos/lodash/lodash/issues/1236",
    "id": 105974699,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTk3NDY5OQ==",
    "user": {
      "login": "jlgrall",
      "id": 1263537,
      "node_id": "MDQ6VXNlcjEyNjM1Mzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1263537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jlgrall",
      "html_url": "https://github.com/jlgrall",
      "followers_url": "https://api.github.com/users/jlgrall/followers",
      "following_url": "https://api.github.com/users/jlgrall/following{/other_user}",
      "gists_url": "https://api.github.com/users/jlgrall/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jlgrall/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jlgrall/subscriptions",
      "organizations_url": "https://api.github.com/users/jlgrall/orgs",
      "repos_url": "https://api.github.com/users/jlgrall/repos",
      "events_url": "https://api.github.com/users/jlgrall/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jlgrall/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-27T15:58:44Z",
    "updated_at": "2015-05-27T15:58:44Z",
    "author_association": "NONE",
    "body": "Hey, yeah good idea.\n\nDo you know of another package like that so that I could start from an example ?\n",
    "reactions": {
      "url": "https://api.github.com/repos/lodash/lodash/issues/comments/105974699/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/lodash/lodash/issues/comments/106013861",
    "html_url": "https://github.com/lodash/lodash/issues/1236#issuecomment-106013861",
    "issue_url": "https://api.github.com/repos/lodash/lodash/issues/1236",
    "id": 106013861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNjAxMzg2MQ==",
    "user": {
      "login": "jdalton",
      "id": 4303,
      "node_id": "MDQ6VXNlcjQzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdalton",
      "html_url": "https://github.com/jdalton",
      "followers_url": "https://api.github.com/users/jdalton/followers",
      "following_url": "https://api.github.com/users/jdalton/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdalton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jdalton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdalton/subscriptions",
      "organizations_url": "https://api.github.com/users/jdalton/orgs",
      "repos_url": "https://api.github.com/users/jdalton/repos",
      "events_url": "https://api.github.com/users/jdalton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jdalton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-27T17:58:25Z",
    "updated_at": "2015-05-27T17:58:25Z",
    "author_association": "MEMBER",
    "body": "Look at [lodash-deep](https://github.com/marklagendijk/lodash-deep).\n",
    "reactions": {
      "url": "https://api.github.com/repos/lodash/lodash/issues/comments/106013861/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/lodash/lodash/issues/comments/455847056",
    "html_url": "https://github.com/lodash/lodash/issues/1236#issuecomment-455847056",
    "issue_url": "https://api.github.com/repos/lodash/lodash/issues/1236",
    "id": 455847056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTg0NzA1Ng==",
    "user": {
      "login": "lock[bot]",
      "id": 33595554,
      "node_id": "MDM6Qm90MzM1OTU1NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/in/6672?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lock%5Bbot%5D",
      "html_url": "https://github.com/apps/lock",
      "followers_url": "https://api.github.com/users/lock%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/lock%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/lock%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lock%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lock%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/lock%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/lock%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/lock%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lock%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-01-20T08:28:30Z",
    "updated_at": "2019-01-20T08:28:30Z",
    "author_association": "NONE",
    "body": "This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.",
    "reactions": {
      "url": "https://api.github.com/repos/lodash/lodash/issues/comments/455847056/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]