[
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/74685908",
    "html_url": "https://github.com/expressjs/express/issues/2552#issuecomment-74685908",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2552",
    "id": 74685908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0Njg1OTA4",
    "user": {
      "login": "lennym",
      "id": 117398,
      "node_id": "MDQ6VXNlcjExNzM5OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/117398?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lennym",
      "html_url": "https://github.com/lennym",
      "followers_url": "https://api.github.com/users/lennym/followers",
      "following_url": "https://api.github.com/users/lennym/following{/other_user}",
      "gists_url": "https://api.github.com/users/lennym/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lennym/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lennym/subscriptions",
      "organizations_url": "https://api.github.com/users/lennym/orgs",
      "repos_url": "https://api.github.com/users/lennym/repos",
      "events_url": "https://api.github.com/users/lennym/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lennym/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-17T15:30:09Z",
    "updated_at": "2015-02-17T15:30:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "I just came here to raise almost this exact issue. I recently mounted our app as a sub app and discovered that the x-powered-by header re-appeared despite having run `app.disable('x-powered-by')` in the top-level app.\n\nI'd assumed that disabling this setting at the top level would be sufficient for it to be disabled all the way down the stack, but it looks from https://github.com/strongloop/express/blob/master/lib/middleware/init.js#L13 that the header will be added if it's not disabled at every level, which frankly sucks.\n\nI would be strongly in favour of allowing child mounted apps to inherit parent settings, or at least make it explicit what is and what isn't inherited (since I assume from your reference to \"special magical default Express settings\" that some things will be inherited?).\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/74685908/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/81758165",
    "html_url": "https://github.com/expressjs/express/issues/2552#issuecomment-81758165",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2552",
    "id": 81758165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxNzU4MTY1",
    "user": {
      "login": "revington",
      "id": 91995,
      "node_id": "MDQ6VXNlcjkxOTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/revington",
      "html_url": "https://github.com/revington",
      "followers_url": "https://api.github.com/users/revington/followers",
      "following_url": "https://api.github.com/users/revington/following{/other_user}",
      "gists_url": "https://api.github.com/users/revington/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/revington/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/revington/subscriptions",
      "organizations_url": "https://api.github.com/users/revington/orgs",
      "repos_url": "https://api.github.com/users/revington/repos",
      "events_url": "https://api.github.com/users/revington/events{/privacy}",
      "received_events_url": "https://api.github.com/users/revington/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-16T15:56:34Z",
    "updated_at": "2015-03-16T15:56:34Z",
    "author_association": "NONE",
    "body": "@lennym The problem is here https://github.com/strongloop/express/blob/master/lib/application.js#L69-L98\n\nWhen the express application is created, there are some defaults set.  \nThen, if that application gets mounted, its settings are inherit from its parent. But it is too late because those settings are now set by default. \n\n```\n// Example here\nvar express = require('express');\nvar parent = express();\nparent.disable('x-powered-by');\nconsole.log(parent.set('x-powered-by')) // false, as expected\nvar child = express();\nconsole.log(child.set('x-powered-by')) // true, because x-powered-by is set to true by default\nparent.use(child); // mount\nconsole.log(child.set('x-powered-by')) // true, we are using child setting\ndelete child.settings['x-powered-by']; \nconsole.log(child.set('x-powered-by')) // false, now, child does not define this setting and uses his parent one\n```\n\nA simple and dirty hack can be\n\n```\nchild.on('mount', function () {             \n    delete this.settings['x-powered-by'];\n});\nparent.use(child);\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/81758165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/87745667",
    "html_url": "https://github.com/expressjs/express/issues/2552#issuecomment-87745667",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2552",
    "id": 87745667,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NzQ1NjY3",
    "user": {
      "login": "lennym",
      "id": 117398,
      "node_id": "MDQ6VXNlcjExNzM5OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/117398?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lennym",
      "html_url": "https://github.com/lennym",
      "followers_url": "https://api.github.com/users/lennym/followers",
      "following_url": "https://api.github.com/users/lennym/following{/other_user}",
      "gists_url": "https://api.github.com/users/lennym/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lennym/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lennym/subscriptions",
      "organizations_url": "https://api.github.com/users/lennym/orgs",
      "repos_url": "https://api.github.com/users/lennym/repos",
      "events_url": "https://api.github.com/users/lennym/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lennym/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-30T16:44:15Z",
    "updated_at": "2015-03-30T16:44:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dougwilson Further feedback/thoughts on settings inheritance, some of it doubtless caused by my own misapplication and misunderstanding of intent...\n\nI've just been bitten slightly by the 'views' setting being defaulted at the instantiation of an app, where I had assumed that if not set then it would fall back to the parent app's setting.\n\nWith hindsight, the solution was to export a router instead of a full app, but because of the way that express defaulted the views directory I spent _quite a lot_ of time debugging because the default for the child was the same path as the \"grandparent\" app.\n\nI guess I'm saying that my feeling is that settings should be inherited by default - undefined settings call up to the parent, and only if no parent exists, resort to default values. So `app.get` effectively looks up the \"app tree\" to find its settings, in a not dissimilar way to how node's require searches up the file system for node_modules. \n\nYou could add `app.set('inherit', false)` to prevent this if required (which would of course be inherited by child apps (-;), but I would certainly say that my expectation has continually proven to be assumed inheritance.\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/87745667/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/90794253",
    "html_url": "https://github.com/expressjs/express/issues/2552#issuecomment-90794253",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2552",
    "id": 90794253,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkwNzk0MjUz",
    "user": {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-08T03:35:29Z",
    "updated_at": "2015-04-08T03:35:29Z",
    "author_association": "MEMBER",
    "body": "@lennym then it sounds like what I plan to change with Express 5.0 will make sub apps and inheritance work exactly as you were expecting.\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/90794253/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/90819902",
    "html_url": "https://github.com/expressjs/express/issues/2552#issuecomment-90819902",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2552",
    "id": 90819902,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkwODE5OTAy",
    "user": {
      "login": "lennym",
      "id": 117398,
      "node_id": "MDQ6VXNlcjExNzM5OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/117398?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lennym",
      "html_url": "https://github.com/lennym",
      "followers_url": "https://api.github.com/users/lennym/followers",
      "following_url": "https://api.github.com/users/lennym/following{/other_user}",
      "gists_url": "https://api.github.com/users/lennym/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lennym/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lennym/subscriptions",
      "organizations_url": "https://api.github.com/users/lennym/orgs",
      "repos_url": "https://api.github.com/users/lennym/repos",
      "events_url": "https://api.github.com/users/lennym/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lennym/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-08T06:32:39Z",
    "updated_at": "2015-04-08T06:32:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Excellent. Let me know if I can be of any help.\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/90819902/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/135749315",
    "html_url": "https://github.com/expressjs/express/issues/2552#issuecomment-135749315",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2552",
    "id": 135749315,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTc0OTMxNQ==",
    "user": {
      "login": "hypesystem",
      "id": 859106,
      "node_id": "MDQ6VXNlcjg1OTEwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/859106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hypesystem",
      "html_url": "https://github.com/hypesystem",
      "followers_url": "https://api.github.com/users/hypesystem/followers",
      "following_url": "https://api.github.com/users/hypesystem/following{/other_user}",
      "gists_url": "https://api.github.com/users/hypesystem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hypesystem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hypesystem/subscriptions",
      "organizations_url": "https://api.github.com/users/hypesystem/orgs",
      "repos_url": "https://api.github.com/users/hypesystem/repos",
      "events_url": "https://api.github.com/users/hypesystem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hypesystem/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-28T11:57:02Z",
    "updated_at": "2015-08-28T11:57:02Z",
    "author_association": "NONE",
    "body": ":+1: on this :smile:\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/135749315/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]