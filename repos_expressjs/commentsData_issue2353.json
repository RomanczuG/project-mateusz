[
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/55325777",
    "html_url": "https://github.com/expressjs/express/issues/2353#issuecomment-55325777",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2353",
    "id": 55325777,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MzI1Nzc3",
    "user": {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-11T20:44:26Z",
    "updated_at": "2014-09-11T20:44:26Z",
    "author_association": "MEMBER",
    "body": "The way you described is actually better for memory usage in node.js, but the way you were trying should work just fine. Can you provide an application that demonstrates the partial content issue?\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/55325777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/55333057",
    "html_url": "https://github.com/expressjs/express/issues/2353#issuecomment-55333057",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2353",
    "id": 55333057,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MzMzMDU3",
    "user": {
      "login": "aeos",
      "id": 5134130,
      "node_id": "MDQ6VXNlcjUxMzQxMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5134130?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aeos",
      "html_url": "https://github.com/aeos",
      "followers_url": "https://api.github.com/users/aeos/followers",
      "following_url": "https://api.github.com/users/aeos/following{/other_user}",
      "gists_url": "https://api.github.com/users/aeos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aeos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aeos/subscriptions",
      "organizations_url": "https://api.github.com/users/aeos/orgs",
      "repos_url": "https://api.github.com/users/aeos/repos",
      "events_url": "https://api.github.com/users/aeos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aeos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-11T21:40:21Z",
    "updated_at": "2014-09-11T21:40:21Z",
    "author_association": "NONE",
    "body": "I can't provide the actual data used, and the unfortunate thing is that the issue did not appear locally, but only on one of the test environments. The content being retrieved was 81,000 characters (80KB) of UTF-8 JSON but the client would only receive 21,495 of those characters. The javascript array was built up in a middleware controller and then a second middleware would send it as an attachment:\n\n```\nres.attachment('export.json');\nres.send(res.locals.result);\nnext();\n```\n\nOtherwise there was nothing special about the application.\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/55333057/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/55334611",
    "html_url": "https://github.com/expressjs/express/issues/2353#issuecomment-55334611",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2353",
    "id": 55334611,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MzM0NjEx",
    "user": {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-11T21:53:26Z",
    "updated_at": "2014-09-11T21:53:26Z",
    "author_association": "MEMBER",
    "body": "OK. I mean, it really sounds like just a networking issue or something simply interrupted the connection. Can you verify the value of `content-length` header coming back on that server was correct? I routinely send back MBs of arrays.\n\nOne thing to note in your code sample, though, is you should _never_ be calling `next()` after `res.send`. perhaps your issue is because of that.\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/55334611/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/55336240",
    "html_url": "https://github.com/expressjs/express/issues/2353#issuecomment-55336240",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2353",
    "id": 55336240,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MzM2MjQw",
    "user": {
      "login": "aeos",
      "id": 5134130,
      "node_id": "MDQ6VXNlcjUxMzQxMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5134130?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aeos",
      "html_url": "https://github.com/aeos",
      "followers_url": "https://api.github.com/users/aeos/followers",
      "following_url": "https://api.github.com/users/aeos/following{/other_user}",
      "gists_url": "https://api.github.com/users/aeos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aeos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aeos/subscriptions",
      "organizations_url": "https://api.github.com/users/aeos/orgs",
      "repos_url": "https://api.github.com/users/aeos/repos",
      "events_url": "https://api.github.com/users/aeos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aeos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-11T22:07:31Z",
    "updated_at": "2014-09-11T22:07:31Z",
    "author_association": "NONE",
    "body": "Thank you for your feedback, I will investigate that.\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/55336240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/55337188",
    "html_url": "https://github.com/expressjs/express/issues/2353#issuecomment-55337188",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2353",
    "id": 55337188,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MzM3MTg4",
    "user": {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-11T22:17:06Z",
    "updated_at": "2014-09-11T22:17:06Z",
    "author_association": "MEMBER",
    "body": "No problem. Sorry I couldn't help any more; I just don't have a lot of info to work on here :)\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/55337188/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/55455333",
    "html_url": "https://github.com/expressjs/express/issues/2353#issuecomment-55455333",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2353",
    "id": 55455333,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NDU1MzMz",
    "user": {
      "login": "aeos",
      "id": 5134130,
      "node_id": "MDQ6VXNlcjUxMzQxMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5134130?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aeos",
      "html_url": "https://github.com/aeos",
      "followers_url": "https://api.github.com/users/aeos/followers",
      "following_url": "https://api.github.com/users/aeos/following{/other_user}",
      "gists_url": "https://api.github.com/users/aeos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aeos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aeos/subscriptions",
      "organizations_url": "https://api.github.com/users/aeos/orgs",
      "repos_url": "https://api.github.com/users/aeos/repos",
      "events_url": "https://api.github.com/users/aeos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aeos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-12T20:17:42Z",
    "updated_at": "2014-09-12T20:17:42Z",
    "author_association": "NONE",
    "body": "Your suggestion was the correct fix. Most likely on our local environments the send completed before the next() call could have an impact on it. \n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/55455333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/55456177",
    "html_url": "https://github.com/expressjs/express/issues/2353#issuecomment-55456177",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2353",
    "id": 55456177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NDU2MTc3",
    "user": {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-09-12T20:25:46Z",
    "updated_at": "2014-09-12T20:25:46Z",
    "author_association": "MEMBER",
    "body": "Gotcha. Most likely whatever code ran in the `next()` ended up calling `req.destroy()` which was cutting off your request.\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/55456177/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]