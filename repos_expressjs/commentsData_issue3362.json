[
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/314671926",
    "html_url": "https://github.com/expressjs/express/issues/3362#issuecomment-314671926",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/3362",
    "id": 314671926,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDY3MTkyNg==",
    "user": {
      "login": "chenzx",
      "id": 622927,
      "node_id": "MDQ6VXNlcjYyMjkyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/622927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chenzx",
      "html_url": "https://github.com/chenzx",
      "followers_url": "https://api.github.com/users/chenzx/followers",
      "following_url": "https://api.github.com/users/chenzx/following{/other_user}",
      "gists_url": "https://api.github.com/users/chenzx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chenzx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chenzx/subscriptions",
      "organizations_url": "https://api.github.com/users/chenzx/orgs",
      "repos_url": "https://api.github.com/users/chenzx/repos",
      "events_url": "https://api.github.com/users/chenzx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chenzx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-12T06:54:11Z",
    "updated_at": "2017-07-12T06:54:11Z",
    "author_association": "NONE",
    "body": "The use case behind this bug scene is:\r\n\r\nI build a test web server and a fake CDN server on my notebook, use the WLAN local address, i need to detect the client's request's server-side ip, then i can program it into a 302 redirect Location url.\r\n\r\nIf no this API, i have to hard-encoded it in code, which is not flexible.",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/314671926/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/314676315",
    "html_url": "https://github.com/expressjs/express/issues/3362#issuecomment-314676315",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/3362",
    "id": 314676315,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDY3NjMxNQ==",
    "user": {
      "login": "chenzx",
      "id": 622927,
      "node_id": "MDQ6VXNlcjYyMjkyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/622927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chenzx",
      "html_url": "https://github.com/chenzx",
      "followers_url": "https://api.github.com/users/chenzx/followers",
      "following_url": "https://api.github.com/users/chenzx/following{/other_user}",
      "gists_url": "https://api.github.com/users/chenzx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chenzx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chenzx/subscriptions",
      "organizations_url": "https://api.github.com/users/chenzx/orgs",
      "repos_url": "https://api.github.com/users/chenzx/repos",
      "events_url": "https://api.github.com/users/chenzx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chenzx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-12T07:12:09Z",
    "updated_at": "2017-07-12T07:13:10Z",
    "author_association": "NONE",
    "body": "It seems i can work around this:\r\n```\r\napp.use(function(req, res, next){\r\n    console.log(\"req.ip=\" + req.ip+\" req.socket.address().address=\"+req.socket.address().address);\r\n    console.log(\"req.headers: \"+JSON.stringify(req.headers, null, 2));\r\n    next();\r\n})\r\n```\r\n\r\nThere is just a little problem: the ip address is IPv6 first on Windows 10, this may cause the full url format not valid...",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/314676315/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/320112443",
    "html_url": "https://github.com/expressjs/express/issues/3362#issuecomment-320112443",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/3362",
    "id": 320112443,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDExMjQ0Mw==",
    "user": {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-03T23:01:16Z",
    "updated_at": "2017-08-03T23:01:16Z",
    "author_association": "MEMBER",
    "body": "Hi @chenzx there are some APIs provided by Node.js core and some by us (which just sugar coat the underlying Node.js core APIs). I'm not clear on what you're trying to do exactly, but wouldn't [`req.hostname`](http://expressjs.com/en/4x/api.html#req.hostname) work for you use-case? If not, then I'm not understanding your request, so can you explain more?",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/320112443/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/320251986",
    "html_url": "https://github.com/expressjs/express/issues/3362#issuecomment-320251986",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/3362",
    "id": 320251986,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDI1MTk4Ng==",
    "user": {
      "login": "chenzx",
      "id": 622927,
      "node_id": "MDQ6VXNlcjYyMjkyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/622927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chenzx",
      "html_url": "https://github.com/chenzx",
      "followers_url": "https://api.github.com/users/chenzx/followers",
      "following_url": "https://api.github.com/users/chenzx/following{/other_user}",
      "gists_url": "https://api.github.com/users/chenzx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chenzx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chenzx/subscriptions",
      "organizations_url": "https://api.github.com/users/chenzx/orgs",
      "repos_url": "https://api.github.com/users/chenzx/repos",
      "events_url": "https://api.github.com/users/chenzx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chenzx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T13:41:50Z",
    "updated_at": "2017-08-04T13:41:50Z",
    "author_association": "NONE",
    "body": "@dougwilson Problem has been solved. use `req.socket.localAddress.replace(\"::ffff:\",\"\")`\r\n\r\nThe background is this: i deploy a test REST app server on my local machine with a LAN address, & i need to mock another CDN file server which is, in fact, still on my local machine, so i need to know when i do a 302 redirect by absolute URL, which hostname should i use.\r\n\r\nSince the default express app binds to ‘’, which means `any address available`, i need to know the exact address that current request client uses.",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/320251986/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/320273686",
    "html_url": "https://github.com/expressjs/express/issues/3362#issuecomment-320273686",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/3362",
    "id": 320273686,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDI3MzY4Ng==",
    "user": {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T15:09:34Z",
    "updated_at": "2017-08-04T15:09:34Z",
    "author_association": "MEMBER",
    "body": "Hi @chenzx Express.js doesn't do any server binding directly. If you are using `app.listen` that is a straight proxy to the Node.js core [`server.listen` method](https://nodejs.org/dist/latest-v8.x/docs/api/http.html#http_server_listen_port_hostname_backlog_callback).\r\n\r\nYou can provide a specific IP address to listen on, specify to only listen in IPv4 mode (instead of the default dual stack), and more. Just refer to the documentation for your version of Node.js to see what is possible.",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/320273686/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/320307025",
    "html_url": "https://github.com/expressjs/express/issues/3362#issuecomment-320307025",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/3362",
    "id": 320307025,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDMwNzAyNQ==",
    "user": {
      "login": "chenzx",
      "id": 622927,
      "node_id": "MDQ6VXNlcjYyMjkyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/622927?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chenzx",
      "html_url": "https://github.com/chenzx",
      "followers_url": "https://api.github.com/users/chenzx/followers",
      "following_url": "https://api.github.com/users/chenzx/following{/other_user}",
      "gists_url": "https://api.github.com/users/chenzx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chenzx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chenzx/subscriptions",
      "organizations_url": "https://api.github.com/users/chenzx/orgs",
      "repos_url": "https://api.github.com/users/chenzx/repos",
      "events_url": "https://api.github.com/users/chenzx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chenzx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-04T17:28:17Z",
    "updated_at": "2017-08-04T17:28:17Z",
    "author_association": "NONE",
    "body": "@dougwilson Thanks! I thought express community is really very kind. :-)",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/320307025/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]