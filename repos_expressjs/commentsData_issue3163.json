[
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/269908585",
    "html_url": "https://github.com/expressjs/express/issues/3163#issuecomment-269908585",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/3163",
    "id": 269908585,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTkwODU4NQ==",
    "user": {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-01T16:05:31Z",
    "updated_at": "2017-01-01T16:05:31Z",
    "author_association": "MEMBER",
    "body": "Weird, I just tried it with the latest Express and it worked without issue. Can you share what version of Express you are using, what version of Node.js, and the complete source code you are running so I can reproduce? A PR with a fix that works for you would be amazing as well in case I cannot reproduce still. ",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/269908585/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/269911971",
    "html_url": "https://github.com/expressjs/express/issues/3163#issuecomment-269911971",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/3163",
    "id": 269911971,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTkxMTk3MQ==",
    "user": {
      "login": "Tarabass",
      "id": 462513,
      "node_id": "MDQ6VXNlcjQ2MjUxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/462513?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tarabass",
      "html_url": "https://github.com/Tarabass",
      "followers_url": "https://api.github.com/users/Tarabass/followers",
      "following_url": "https://api.github.com/users/Tarabass/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tarabass/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tarabass/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tarabass/subscriptions",
      "organizations_url": "https://api.github.com/users/Tarabass/orgs",
      "repos_url": "https://api.github.com/users/Tarabass/repos",
      "events_url": "https://api.github.com/users/Tarabass/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tarabass/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-01T17:39:27Z",
    "updated_at": "2017-01-01T17:46:20Z",
    "author_association": "NONE",
    "body": "Because I trust you I added you as collaborator to my private repo. Hope this helps. It's an express project started in Webstorm, so the ./bin/www file will contain the server setup and app.js will contain the app setup.\r\n\r\nI will take a deeper and create a clean project (without webstorm) but with the same versions of node and express. Hopefully I can reproduce..\r\n\r\nNode version on this machine is v4.4.7\r\nNpm version is v2.15.8",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/269911971/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/269914644",
    "html_url": "https://github.com/expressjs/express/issues/3163#issuecomment-269914644",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/3163",
    "id": 269914644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTkxNDY0NA==",
    "user": {
      "login": "Tarabass",
      "id": 462513,
      "node_id": "MDQ6VXNlcjQ2MjUxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/462513?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tarabass",
      "html_url": "https://github.com/Tarabass",
      "followers_url": "https://api.github.com/users/Tarabass/followers",
      "following_url": "https://api.github.com/users/Tarabass/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tarabass/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tarabass/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tarabass/subscriptions",
      "organizations_url": "https://api.github.com/users/Tarabass/orgs",
      "repos_url": "https://api.github.com/users/Tarabass/repos",
      "events_url": "https://api.github.com/users/Tarabass/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tarabass/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-01T18:54:52Z",
    "updated_at": "2017-01-01T19:03:58Z",
    "author_association": "NONE",
    "body": "I stripped down the app to almost nothing, but the same thing still occurs.\r\n\r\nPackage.json\r\n```json\r\n{\r\n  \"name\": \"express_view_cache\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"Test to see express view cache is working in production mode\",\r\n  \"scripts\": {\r\n    \"start\": \"set NODE_ENV=production && node app\"\r\n  },\r\n  \"dependencies\": {\r\n    \"ejs\": \"~2.4.1\",\r\n    \"express\": \"~4.13.4\"\r\n  }\r\n}\r\n```\r\napp.js\r\n```javascript\r\nvar express = require('express')\r\nvar app = express()\r\nvar path = require('path')\r\n\r\napp.set('views', path.join(__dirname, 'views'))\r\napp.set('view engine', 'ejs')\r\n\r\napp.get('/', function (req, res) {\r\n\tres.render('index', { title: 'Hey', message: 'Hello there!' })\r\n})\r\n\r\napp.listen(3000, function () {\r\n  console.log('Example app listening on port 3000!')\r\n})\r\n\r\nconsole.log(app.get('env'))\r\nconsole.log(app.get('view cache'))\r\napp.set('view cache', true);\r\nconsole.log(app.get('view cache'))\r\n```\r\n\r\nviews\\index.ejs\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n\t<title><%= title %></title>\r\n</head>\r\n<body>\r\n\t<%= message %>\r\n</body>\r\n</html>\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/269914644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/269915160",
    "html_url": "https://github.com/expressjs/express/issues/3163#issuecomment-269915160",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/3163",
    "id": 269915160,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTkxNTE2MA==",
    "user": {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-01T19:08:36Z",
    "updated_at": "2017-01-01T19:08:36Z",
    "author_association": "MEMBER",
    "body": "What do you get in the output if you output the following?\r\n\r\n    console.dir(app.get('env'))\r\n\r\nI'm just wondering if your shell is thinking the space between the n and & is part of the environment variable. The console.dir will put quotes around the value to make that apparent or not.",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/269915160/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/269915897",
    "html_url": "https://github.com/expressjs/express/issues/3163#issuecomment-269915897",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/3163",
    "id": 269915897,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTkxNTg5Nw==",
    "user": {
      "login": "Tarabass",
      "id": 462513,
      "node_id": "MDQ6VXNlcjQ2MjUxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/462513?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tarabass",
      "html_url": "https://github.com/Tarabass",
      "followers_url": "https://api.github.com/users/Tarabass/followers",
      "following_url": "https://api.github.com/users/Tarabass/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tarabass/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tarabass/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tarabass/subscriptions",
      "organizations_url": "https://api.github.com/users/Tarabass/orgs",
      "repos_url": "https://api.github.com/users/Tarabass/repos",
      "events_url": "https://api.github.com/users/Tarabass/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tarabass/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-01T19:28:44Z",
    "updated_at": "2017-01-01T19:28:44Z",
    "author_association": "NONE",
    "body": "You nailed it, Doug!\r\n\r\nThe output was 'production ' with an extra space. I removed the spaces around && and now it works properly.\r\n\r\nI'm sorry that I was bothering you with this. Maybe it should be trimmed when the variable is read, but for now it works like it should. The problem is not with Express.\r\n\r\nHappy new year!\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/269915897/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]