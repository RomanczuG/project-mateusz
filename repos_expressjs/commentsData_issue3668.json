[
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/396568570",
    "html_url": "https://github.com/expressjs/express/issues/3668#issuecomment-396568570",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/3668",
    "id": 396568570,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjU2ODU3MA==",
    "user": {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-12T12:17:21Z",
    "updated_at": "2018-06-12T12:17:21Z",
    "author_association": "MEMBER",
    "body": "Hi! Sorry you're having issues. It's hard to say why you are seeing that behavior and/or if there is a bug from the description alone. Is it possible you can provide version numbers of everything in use, full code the reproduces the issue, and the steps to perform with the provided code to see the issue in action?",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/396568570/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/396597199",
    "html_url": "https://github.com/expressjs/express/issues/3668#issuecomment-396597199",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/3668",
    "id": 396597199,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjU5NzE5OQ==",
    "user": {
      "login": "thedjdoorn",
      "id": 10856000,
      "node_id": "MDQ6VXNlcjEwODU2MDAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10856000?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thedjdoorn",
      "html_url": "https://github.com/thedjdoorn",
      "followers_url": "https://api.github.com/users/thedjdoorn/followers",
      "following_url": "https://api.github.com/users/thedjdoorn/following{/other_user}",
      "gists_url": "https://api.github.com/users/thedjdoorn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thedjdoorn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thedjdoorn/subscriptions",
      "organizations_url": "https://api.github.com/users/thedjdoorn/orgs",
      "repos_url": "https://api.github.com/users/thedjdoorn/repos",
      "events_url": "https://api.github.com/users/thedjdoorn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thedjdoorn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-12T13:53:33Z",
    "updated_at": "2018-06-12T13:53:33Z",
    "author_association": "NONE",
    "body": "I found out what the problem is!\r\n\r\nOkay, so Angular by default sends out a CORS Preflight Request, this is apparently routed through the middleware (don't ask me why). The Preflight Request contains a few headers (like which ones are going to be in the actual request). The JWT Library doesn't have anything to decrypt so it throws an error, which is sent back and the actual request is canceled by Angular due to CORS errors.\r\n\r\nSuperTest doesn't send Preflight Requests, hence the difference in behavior.\r\n\r\nThis leaves me with one question: the PFR goes through the middleware, but is this preferred behavior? Is there a way for me to disable this or should I just check for the Authorization header?",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/396597199/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/396599491",
    "html_url": "https://github.com/expressjs/express/issues/3668#issuecomment-396599491",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/3668",
    "id": 396599491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjU5OTQ5MQ==",
    "user": {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-12T13:59:45Z",
    "updated_at": "2018-06-12T13:59:45Z",
    "author_association": "MEMBER",
    "body": "If you replace that middleware with the access control headers with the https://github.com/expressjs/cors then the preflight won't continue to later middleware,  which seems to be the behavior you're looking for :+1:",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/396599491/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]