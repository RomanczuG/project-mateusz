[
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/139111402",
    "html_url": "https://github.com/expressjs/express/issues/2752#issuecomment-139111402",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2752",
    "id": 139111402,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTExMTQwMg==",
    "user": {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-10T04:12:43Z",
    "updated_at": "2015-09-10T04:12:43Z",
    "author_association": "MEMBER",
    "body": "Hi!\n\nYes, this is expected behavior and is one of the breaking changes, listed in the History file as follows:\n\n> req.query is now a getter instead of a plain property\n\nIn Express 5, `req.query` is now a getter that only reflects the contents on `req.url`. This means, depending on what you are trying to achieve, you'll have to change your code. The following is a few possibilities, all depending on what you are trying to achieve (let me know if these are not one, as I'm just guessing):\n1. If you are trying to alter the query for transparent processing, you need to alter the `req.url` itself. This is so the change is truly transparent: no matter if the later code is looking in `req.query` or parsing the query string of `req.url`, it will see the updated query.\n2. If you are simply trying to track some kind of state, you should not use `req.query` for tracking, rather read out of `req.query` and into any `req.*` property of your choosing.\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/139111402/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/139300557",
    "html_url": "https://github.com/expressjs/express/issues/2752#issuecomment-139300557",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2752",
    "id": 139300557,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTMwMDU1Nw==",
    "user": {
      "login": "mikegwhit",
      "id": 2973130,
      "node_id": "MDQ6VXNlcjI5NzMxMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2973130?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mikegwhit",
      "html_url": "https://github.com/mikegwhit",
      "followers_url": "https://api.github.com/users/mikegwhit/followers",
      "following_url": "https://api.github.com/users/mikegwhit/following{/other_user}",
      "gists_url": "https://api.github.com/users/mikegwhit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mikegwhit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mikegwhit/subscriptions",
      "organizations_url": "https://api.github.com/users/mikegwhit/orgs",
      "repos_url": "https://api.github.com/users/mikegwhit/repos",
      "events_url": "https://api.github.com/users/mikegwhit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mikegwhit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-10T16:22:35Z",
    "updated_at": "2015-09-10T16:22:51Z",
    "author_association": "NONE",
    "body": "Gotcha, thanks this is helpful, is this change to reflect a more functional style of programming per chance?  Do changes made into req.url reflect back onto req.query?  How might a person trigger the rebuild of the req.query after a change to req.url has been made?\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/139300557/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/139300908",
    "html_url": "https://github.com/expressjs/express/issues/2752#issuecomment-139300908",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2752",
    "id": 139300908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzOTMwMDkwOA==",
    "user": {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-10T16:24:11Z",
    "updated_at": "2015-09-10T16:24:11Z",
    "author_association": "MEMBER",
    "body": "Hi! So the changes you make to req.url are instantly reflected in req.query (but you have to call req.query after the change--the object you got doesn't auto-update).\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/139300908/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/150330305",
    "html_url": "https://github.com/expressjs/express/issues/2752#issuecomment-150330305",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2752",
    "id": 150330305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDMzMDMwNQ==",
    "user": {
      "login": "sebilasse",
      "id": 750300,
      "node_id": "MDQ6VXNlcjc1MDMwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/750300?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sebilasse",
      "html_url": "https://github.com/sebilasse",
      "followers_url": "https://api.github.com/users/sebilasse/followers",
      "following_url": "https://api.github.com/users/sebilasse/following{/other_user}",
      "gists_url": "https://api.github.com/users/sebilasse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sebilasse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sebilasse/subscriptions",
      "organizations_url": "https://api.github.com/users/sebilasse/orgs",
      "repos_url": "https://api.github.com/users/sebilasse/repos",
      "events_url": "https://api.github.com/users/sebilasse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sebilasse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-22T19:31:03Z",
    "updated_at": "2015-10-23T00:45:35Z",
    "author_association": "NONE",
    "body": "@dougwilson sorry for asking here, but it is not clear to me:\nIf I would e.g. like to use [another query-parser](https://github.com/kriszyp/rql) it is the easiest way to \n\"re\" `defineGetter(req, 'query',` - right?\nOr can I also do\n\n``` js\nvar RQL = function (req, res, next) {\n  var qStr = url.parse(req.originalUrl).search.substr(1);\n  req.query = (!qStr.length) ? {} : rql.parseQuery(qStr);\n  next();\n};\napp.use(RQL);\n```\n\n?\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/150330305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/expressjs/express/issues/comments/150948916",
    "html_url": "https://github.com/expressjs/express/issues/2752#issuecomment-150948916",
    "issue_url": "https://api.github.com/repos/expressjs/express/issues/2752",
    "id": 150948916,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDk0ODkxNg==",
    "user": {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-25T17:59:16Z",
    "updated_at": "2015-10-25T17:59:16Z",
    "author_association": "MEMBER",
    "body": "Hi @sebilasse , you want to use the `\"query parser\"` Express application setting (http://expressjs.com/4x/api.html#app.set):\n\n``` js\n// In Express 4.x, this has to be set before you define your first route; in 5.x you can set at any time\napp.set('query parser', function (str) {\n  return str.length ? rql.parseQuery(str) : {};\n});\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/expressjs/express/issues/comments/150948916/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]