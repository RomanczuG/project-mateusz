[
  {
    "url": "https://api.github.com/repos/browserify/browserify/issues/comments/210096925",
    "html_url": "https://github.com/browserify/browserify/issues/1545#issuecomment-210096925",
    "issue_url": "https://api.github.com/repos/browserify/browserify/issues/1545",
    "id": 210096925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDA5NjkyNQ==",
    "user": {
      "login": "terinjokes",
      "id": 273509,
      "node_id": "MDQ6VXNlcjI3MzUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/273509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terinjokes",
      "html_url": "https://github.com/terinjokes",
      "followers_url": "https://api.github.com/users/terinjokes/followers",
      "following_url": "https://api.github.com/users/terinjokes/following{/other_user}",
      "gists_url": "https://api.github.com/users/terinjokes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terinjokes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terinjokes/subscriptions",
      "organizations_url": "https://api.github.com/users/terinjokes/orgs",
      "repos_url": "https://api.github.com/users/terinjokes/repos",
      "events_url": "https://api.github.com/users/terinjokes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terinjokes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-14T18:50:42Z",
    "updated_at": "2016-04-14T18:50:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Completely different sizes, meaning they aren't even close, or is are they being clipped?\n",
    "reactions": {
      "url": "https://api.github.com/repos/browserify/browserify/issues/comments/210096925/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/browserify/browserify/issues/comments/210200009",
    "html_url": "https://github.com/browserify/browserify/issues/1545#issuecomment-210200009",
    "issue_url": "https://api.github.com/repos/browserify/browserify/issues/1545",
    "id": 210200009,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDIwMDAwOQ==",
    "user": {
      "login": "mderijcke",
      "id": 1220691,
      "node_id": "MDQ6VXNlcjEyMjA2OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1220691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mderijcke",
      "html_url": "https://github.com/mderijcke",
      "followers_url": "https://api.github.com/users/mderijcke/followers",
      "following_url": "https://api.github.com/users/mderijcke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mderijcke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mderijcke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mderijcke/subscriptions",
      "organizations_url": "https://api.github.com/users/mderijcke/orgs",
      "repos_url": "https://api.github.com/users/mderijcke/repos",
      "events_url": "https://api.github.com/users/mderijcke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mderijcke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-14T23:16:51Z",
    "updated_at": "2016-04-14T23:16:51Z",
    "author_association": "NONE",
    "body": "My first guess is newline conversions being changed or utf8 / unicode related.\n\nYou should grab the base64 strings, decode both of them and look at the differences. As it's XML you can use any generic diff tool.\n",
    "reactions": {
      "url": "https://api.github.com/repos/browserify/browserify/issues/comments/210200009/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/browserify/browserify/issues/comments/210330910",
    "html_url": "https://github.com/browserify/browserify/issues/1545#issuecomment-210330910",
    "issue_url": "https://api.github.com/repos/browserify/browserify/issues/1545",
    "id": 210330910,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDMzMDkxMA==",
    "user": {
      "login": "asbjornenge",
      "id": 241601,
      "node_id": "MDQ6VXNlcjI0MTYwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241601?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asbjornenge",
      "html_url": "https://github.com/asbjornenge",
      "followers_url": "https://api.github.com/users/asbjornenge/followers",
      "following_url": "https://api.github.com/users/asbjornenge/following{/other_user}",
      "gists_url": "https://api.github.com/users/asbjornenge/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asbjornenge/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asbjornenge/subscriptions",
      "organizations_url": "https://api.github.com/users/asbjornenge/orgs",
      "repos_url": "https://api.github.com/users/asbjornenge/repos",
      "events_url": "https://api.github.com/users/asbjornenge/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asbjornenge/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-15T07:35:58Z",
    "updated_at": "2016-04-15T07:35:58Z",
    "author_association": "NONE",
    "body": "Here are buffer sizes for a 130k jpg file. I should also note that the problem only occurs for multi buffer files.\n\n**Browserify 13.0.0**\n\n```\nreadFileSync(file).toString(base64).length 176892\nbuf.length 115226\nbuf.length 122637\nbuf.length 2835\nbuf.length 3\nBuffer.concat(buffers).length 240701\nbuffers.toString(base64).length 320936\n```\n\n**Browserify 11.2.0**\n\n```\nreadFileSync(file).toString(base64).length 176892\nbuf.length 65536\nbuf.length 65536\nbuf.length 1595\nBuffer.concat(buffers).length 132667\nbuffers.toString(base64).length 176892\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/browserify/browserify/issues/comments/210330910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/browserify/browserify/issues/comments/210394325",
    "html_url": "https://github.com/browserify/browserify/issues/1545#issuecomment-210394325",
    "issue_url": "https://api.github.com/repos/browserify/browserify/issues/1545",
    "id": 210394325,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDM5NDMyNQ==",
    "user": {
      "login": "mderijcke",
      "id": 1220691,
      "node_id": "MDQ6VXNlcjEyMjA2OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1220691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mderijcke",
      "html_url": "https://github.com/mderijcke",
      "followers_url": "https://api.github.com/users/mderijcke/followers",
      "following_url": "https://api.github.com/users/mderijcke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mderijcke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mderijcke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mderijcke/subscriptions",
      "organizations_url": "https://api.github.com/users/mderijcke/orgs",
      "repos_url": "https://api.github.com/users/mderijcke/repos",
      "events_url": "https://api.github.com/users/mderijcke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mderijcke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-15T09:51:11Z",
    "updated_at": "2016-04-15T09:51:11Z",
    "author_association": "NONE",
    "body": "So what happens if you put `console.log(enc)` below this code:\n\n``` js\nreturn through(\n    function(buf, enc, cb) {\n      buffers.push(buf)\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/browserify/browserify/issues/comments/210394325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/browserify/browserify/issues/comments/210411027",
    "html_url": "https://github.com/browserify/browserify/issues/1545#issuecomment-210411027",
    "issue_url": "https://api.github.com/repos/browserify/browserify/issues/1545",
    "id": 210411027,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDQxMTAyNw==",
    "user": {
      "login": "asbjornenge",
      "id": 241601,
      "node_id": "MDQ6VXNlcjI0MTYwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241601?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asbjornenge",
      "html_url": "https://github.com/asbjornenge",
      "followers_url": "https://api.github.com/users/asbjornenge/followers",
      "following_url": "https://api.github.com/users/asbjornenge/following{/other_user}",
      "gists_url": "https://api.github.com/users/asbjornenge/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asbjornenge/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asbjornenge/subscriptions",
      "organizations_url": "https://api.github.com/users/asbjornenge/orgs",
      "repos_url": "https://api.github.com/users/asbjornenge/repos",
      "events_url": "https://api.github.com/users/asbjornenge/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asbjornenge/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-15T10:40:23Z",
    "updated_at": "2016-04-15T10:40:23Z",
    "author_association": "NONE",
    "body": "`enc` says `buffer` for both.\n",
    "reactions": {
      "url": "https://api.github.com/repos/browserify/browserify/issues/comments/210411027/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/browserify/browserify/issues/comments/210920603",
    "html_url": "https://github.com/browserify/browserify/issues/1545#issuecomment-210920603",
    "issue_url": "https://api.github.com/repos/browserify/browserify/issues/1545",
    "id": 210920603,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDkyMDYwMw==",
    "user": {
      "login": "mderijcke",
      "id": 1220691,
      "node_id": "MDQ6VXNlcjEyMjA2OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1220691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mderijcke",
      "html_url": "https://github.com/mderijcke",
      "followers_url": "https://api.github.com/users/mderijcke/followers",
      "following_url": "https://api.github.com/users/mderijcke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mderijcke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mderijcke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mderijcke/subscriptions",
      "organizations_url": "https://api.github.com/users/mderijcke/orgs",
      "repos_url": "https://api.github.com/users/mderijcke/repos",
      "events_url": "https://api.github.com/users/mderijcke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mderijcke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-16T22:53:47Z",
    "updated_at": "2016-04-16T22:53:47Z",
    "author_association": "NONE",
    "body": "Could you maybe setup a repo with 2 branches of both situations? I can probably find some time to debug this if I can reproduce the problem.\n",
    "reactions": {
      "url": "https://api.github.com/repos/browserify/browserify/issues/comments/210920603/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/browserify/browserify/issues/comments/211109910",
    "html_url": "https://github.com/browserify/browserify/issues/1545#issuecomment-211109910",
    "issue_url": "https://api.github.com/repos/browserify/browserify/issues/1545",
    "id": 211109910,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTEwOTkxMA==",
    "user": {
      "login": "asbjornenge",
      "id": 241601,
      "node_id": "MDQ6VXNlcjI0MTYwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241601?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asbjornenge",
      "html_url": "https://github.com/asbjornenge",
      "followers_url": "https://api.github.com/users/asbjornenge/followers",
      "following_url": "https://api.github.com/users/asbjornenge/following{/other_user}",
      "gists_url": "https://api.github.com/users/asbjornenge/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asbjornenge/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asbjornenge/subscriptions",
      "organizations_url": "https://api.github.com/users/asbjornenge/orgs",
      "repos_url": "https://api.github.com/users/asbjornenge/repos",
      "events_url": "https://api.github.com/users/asbjornenge/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asbjornenge/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-17T20:44:22Z",
    "updated_at": "2016-04-17T20:44:22Z",
    "author_association": "NONE",
    "body": "@mderijcke hope this works for you https://github.com/asbjornenge/imgurify-buffer-test :smile: Thanks for taking the time! Just need the one branch really, the `fs.readFileSync` solution works, just the buffer version thats weird. The initial `npm install` will install `browserify 13.0.0` and the `npm test` should output the weird buffers in the comment above (stderr).\n\nDoing an `npm install browserify@11.2.0` should have `npm test` output the buffers I'm looking for :stuck_out_tongue_closed_eyes: \n\nYou can always clone in two different folders if you want the different browserifies at the same time :smile: :+1: \n",
    "reactions": {
      "url": "https://api.github.com/repos/browserify/browserify/issues/comments/211109910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/browserify/browserify/issues/comments/211333444",
    "html_url": "https://github.com/browserify/browserify/issues/1545#issuecomment-211333444",
    "issue_url": "https://api.github.com/repos/browserify/browserify/issues/1545",
    "id": 211333444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTMzMzQ0NA==",
    "user": {
      "login": "mderijcke",
      "id": 1220691,
      "node_id": "MDQ6VXNlcjEyMjA2OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1220691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mderijcke",
      "html_url": "https://github.com/mderijcke",
      "followers_url": "https://api.github.com/users/mderijcke/followers",
      "following_url": "https://api.github.com/users/mderijcke/following{/other_user}",
      "gists_url": "https://api.github.com/users/mderijcke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mderijcke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mderijcke/subscriptions",
      "organizations_url": "https://api.github.com/users/mderijcke/orgs",
      "repos_url": "https://api.github.com/users/mderijcke/repos",
      "events_url": "https://api.github.com/users/mderijcke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mderijcke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-18T11:12:11Z",
    "updated_at": "2016-04-18T11:12:42Z",
    "author_association": "NONE",
    "body": "So after trying multiple code snippets, it seems that throughout browserify the source file is transformed into utf8. By doing so, unknown unicode characters will be replaced by some vague control characters.\n\nSo to make it work you'll have to resort using createReadStream or readFile. But at that point you're probably better of using [substack/brfs](https://github.com/substack/brfs) not to reinvent the wheel.\n\nWhat `brfs` does is replace `fs.readFileSync(\"pony.jpg\", \"base64\")` with an inline (base64) string.\n",
    "reactions": {
      "url": "https://api.github.com/repos/browserify/browserify/issues/comments/211333444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/browserify/browserify/issues/comments/211477229",
    "html_url": "https://github.com/browserify/browserify/issues/1545#issuecomment-211477229",
    "issue_url": "https://api.github.com/repos/browserify/browserify/issues/1545",
    "id": 211477229,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTQ3NzIyOQ==",
    "user": {
      "login": "terinjokes",
      "id": 273509,
      "node_id": "MDQ6VXNlcjI3MzUwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/273509?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/terinjokes",
      "html_url": "https://github.com/terinjokes",
      "followers_url": "https://api.github.com/users/terinjokes/followers",
      "following_url": "https://api.github.com/users/terinjokes/following{/other_user}",
      "gists_url": "https://api.github.com/users/terinjokes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/terinjokes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/terinjokes/subscriptions",
      "organizations_url": "https://api.github.com/users/terinjokes/orgs",
      "repos_url": "https://api.github.com/users/terinjokes/repos",
      "events_url": "https://api.github.com/users/terinjokes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/terinjokes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-18T17:05:43Z",
    "updated_at": "2016-04-18T17:05:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "> So after trying multiple code snippets, it seems that throughout browserify the source file is transformed into utf8.\n\nThis doesn't surprise me, we expect source code to be required, not generic assets.\n",
    "reactions": {
      "url": "https://api.github.com/repos/browserify/browserify/issues/comments/211477229/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/browserify/browserify/issues/comments/211781170",
    "html_url": "https://github.com/browserify/browserify/issues/1545#issuecomment-211781170",
    "issue_url": "https://api.github.com/repos/browserify/browserify/issues/1545",
    "id": 211781170,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTc4MTE3MA==",
    "user": {
      "login": "asbjornenge",
      "id": 241601,
      "node_id": "MDQ6VXNlcjI0MTYwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241601?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asbjornenge",
      "html_url": "https://github.com/asbjornenge",
      "followers_url": "https://api.github.com/users/asbjornenge/followers",
      "following_url": "https://api.github.com/users/asbjornenge/following{/other_user}",
      "gists_url": "https://api.github.com/users/asbjornenge/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asbjornenge/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asbjornenge/subscriptions",
      "organizations_url": "https://api.github.com/users/asbjornenge/orgs",
      "repos_url": "https://api.github.com/users/asbjornenge/repos",
      "events_url": "https://api.github.com/users/asbjornenge/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asbjornenge/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-19T07:53:45Z",
    "updated_at": "2016-04-19T07:53:45Z",
    "author_association": "NONE",
    "body": "@mderijcke @terinjokes I want to minimize the friction for my developer team, which is why I made this transform instead of using `brfs`. But I can live with using `createReadStream` :+1: The weird/confusing/complicated part is the change from version `11.2.0` to `12.0.0` and up.\n",
    "reactions": {
      "url": "https://api.github.com/repos/browserify/browserify/issues/comments/211781170/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]